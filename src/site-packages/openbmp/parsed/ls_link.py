"""openbmp.parsed.ls_link class

  Copyright (c) 2013-2016 Cisco Systems, Inc. and others.  All rights reserved.
  This program and the accompanying materials are made available under the
  terms of the Eclipse Public License v1.0 which accompanies this distribution,
  and is available at http://www.eclipse.org/legal/epl-v10.html

  .. moduleauthor:: Tim Evens <tievens@cisco.com>
"""

class ls_link:
    """ Format class for ls link parsed messages

        Schema Version: 1

        This class parses the TSV so that fields can be used by name

    """
    VALUES = []
    FIELD_COUNT = 38

    def __init__(self):
        """ Constructor
        """
        pass

    def parse(self, row):
        """ Parses the row in TSV format

        :param row:     TSV row to be parsed and loaded into class

        :raise: NameError with error message on error
        """
        self.VALUES = row.split('\t')

        if len(self.VALUES) != self.FIELD_COUNT:
            raise NameError("Invalid field length of %d, expected %d" % (len(self.VALUES), self.FIELD_COUNT))

    def getAction(self):
        return self.VALUES[0]

    def getSeqence(self):
        return int(self.VALUES[1])

    def getHashId(self):
        return self.VALUES[2]

    def getBaseAttrHashId(self):
        return self.VALUES[3]

    def getRouterHashId(self):
        return self.VALUES[4]

    def getRouterIp(self):
        return self.VALUES[5]

    def getPeerHashId(self):
        return self.VALUES[6]

    def getPeerIp(self):
        return self.VALUES[7]

    def getPeerAsn(self):
        try:
            return int(self.VALUES[8])
        except:
            return 0

    def getTimestamp(self):
        return self.VALUES[9]

    def getIgpRouterId(self):
        return self.VALUES[10]

    def getRouterId(self):
        return self.VALUES[11]

    def getRoutingId(self):
        return self.VALUES[12]

    def getLsId(self):
        return self.VALUES[13]

    def getOspfAreaId(self):
        return self.VALUES[14]

    def getIsisAreaId(self):
        return self.VALUES[15]

    def getProtocol(self):
        return self.VALUES[16]

    def getAsPath(self):
        return self.VALUES[17]

    def getLocalPref(self):
        try:
            return int(self.VALUES[18])
        except:
            return 0

    def getMed(self):
        try:
            return int(self.VALUES[19])
        except:
            return 0

    def getNexthop(self):
        return self.VALUES[20]

    def getMtId(self):
        return self.VALUES[21]

    def getLocalLinkId(self):
        try:
            return int(self.VALUES[22])
        except:
            return 0

    def getRemoteLinkId(self):
        try:
            return int(self.VALUES[23])
        except:
            return 0

    def getInterfaceIp(self):
        return self.VALUES[24]

    def getNeighborIp(self):
        return self.VALUES[25]

    def getIgpMetric(self):
        try:
            return int(self.VALUES[26])
        except:
            return 0

    def getAdminGroup(self):
        try:
            return int(self.VALUES[27])
        except:
            return 0

    def getMaxLinkBw(self):
        try:
            return float(self.VALUES[28])
        except:
            return 0

    def getMaxResvBw(self):
        try:
            return float(self.VALUES[29])
        except:
            return 0

    def getUnreservedBw(self):
        values = []
        a = self.VALUES[30].split(',')
        for v in a:
            values.append(float(v))

        return values

    def getTeDefaultMetric(self):
        try:
            return int(self.VALUES[31])
        except:
            return 0

    def getLinkProtection(self):
        return self.VALUES[32]

    def getMplsProtoMask(self):
        return self.VALUES[33]

    def getSrlg(self):
        return self.VALUES[34]

    def getLinkName(self):
        return self.VALUES[35]

    def getRemoteNodeHashId(self):
        return self.VALUES[36]

    def getLocalNodeHashId(self):
        return self.VALUES[37]
